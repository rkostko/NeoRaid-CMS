window.jQuery&&(function(c,b,e){var d=c.browser.msie?document.body:b,a=c.browser.msie?"e-resize":"ew-resize",h=c.browser.msie?"n-resize":"ns-resize",g=c.browser.msie?"se-resize":"nwse-resize",f=function(){var j=this,i=this.loadSkin;this.loadSkin=function(){i.call(j);j.initResize()}};c.extend(WYMeditor.editor.prototype,{initResize:function(){if(this._box===e){f.call(this);return}var n=this,q,w,t,v=false,m=c(this._box).find(".wym_iframe > iframe"),i=c(m).get(0).onload,z,y,l=-1,k=-1,x=function(A){if(c(A.target).is(".wym_resize_Y, .wym_resize_X, .wym_resize_XY")){u(A);return false}},u=function(B){if(v){s();return false}v=true;t=c(B.target).is(".wym_resize_Y")?"Y":c(B.target).is(".wym_resize_X")?"X":"XY";var A=t==="Y"?h:t==="X"?a:g;c("head").append('<style class="cursorImportant" type="text/css">body * {cursor: '+A+" !important;}</style>");c(m).parent().css("position","relative").end().css("visibility","hidden").after(c('<div class="wym_iframe_masque" />').css({position:"absolute",top:"1px",left:"0",width:"100%",height:"100%",background:"#e8f0fa",border:"1px dashed gray"}));if(t!=="Y"){z=c(m).width()+((B.clientX+c(document).scrollLeft())*l);c(d).bind("mousemove.wym_resize",p)}if(t!=="X"){y=c(m).height()+((B.clientY+c(document).scrollTop())*k);c(d).bind("mousemove.wym_resize",o)}c(d).bind("mouseup.wym_resize",s);return false},p=function(A){c(m).width(z-((A.clientX+c(document).scrollLeft())*l));return false},o=function(A){c(m).height(y-((A.clientY+c(document).scrollTop())*k));return false},s=function(){c("head").children(".cursorImportant").remove();c(d).unbind("mousemove.wym_resize").unbind("mouseup.wym_resize");c(m).parent().css("position","").end().css({visibility:"visible"}).next(".wym_iframe_masque").remove();v=false;return false},j=function(){w=m.width();c(n._box).css({"float":"left",position:"relative","margin-top":"0"}).append(c('<div class="wym_resize_Y" />').css({position:"absolute",bottom:"0",left:"-5px",height:"3px",width:"100%",margin:"0 0 -3px auto",border:"1px solid silver","border-width":"1px 0 1px",cursor:h})).append(c('<div class="wym_resize_X" />').css({position:"absolute",right:"0",top:"-5px",width:"3px",height:"100%",margin:"0 -3px 0 0",border:"1px solid silver","border-width":"0 1px 0 1px",cursor:a})).append(c('<div class="wym_resize_XY" />').css({position:"absolute",right:"0",bottom:"0",width:"5px",height:"5px",margin:"0 -3px -3px 0",border:"1px solid silver",cursor:g}));m.css("width",c.browser.safari?"auto":"100%").parent().css({width:"auto","margin-right":"5px"}).parent().css("overflow","hidden").end().siblings().css("clear","both")},r=function(){q=m.width();m.css({width:w,"max-width":w,"min-width":q,"min-height":"100px"}).parent().css("float","left")};m.get(0).onload=function(){};c(n._box).wrap("<div />").parent().css({overflow:"hidden",padding:"0 5px 5px 0","margin-top":c(n._box).css("margin-top")}).mousedown(x);m.after("<div>").next().each(function(){m.remove().one("load",function(A){j();if(typeof i==="function"){i.call(m.get(0),A)}r()}).insertBefore(this)}).remove()}})})(window.jQuery,this);